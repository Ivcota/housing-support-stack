import{W as c,j as e,a as x}from"./app-DqNi87K9.js";import{A as h}from"./AuthenticatedLayout-BRUBhACb.js";import{B as l}from"./button-OrZBroKR.js";import{I as u}from"./input-D_AYwQ0R.js";import"./ApplicationLogo-C5nGa531.js";import"./transition-BfJHJyqU.js";import"./utils-C-5SdYIA.js";const p=()=>({timeAgo:t=>{const s=new Date().getTime()-t.getTime(),n=Math.floor(s/(1e3*60*60)),a=Math.floor(s%(1e3*60*60)/(1e3*60));return n>0?`${n} hours ago`:a>0?`${a} minutes ago`:"Just now"}});function j({comments:r}){const{timeAgo:t}=p();return e.jsx("div",{className:"rounded-md gap-12 flex flex-col",children:r&&r.map(s=>e.jsxs("div",{className:"shadow-lg py-5 px-4 rounded-md",children:[e.jsxs("div",{className:"text-gray-500 font-bold text-sm flex gap-2",children:[e.jsx("div",{children:s.user.name}),e.jsx("div",{children:t(new Date(s.created_at))})]}),e.jsx("p",{children:s.comment})]},s.id))})}const b=r=>{const{survey:t,comments:s,file:n}=r,{setData:a,post:d,errors:o,data:m}=c({comment:"",survey_id:t.id});return e.jsx(h,{user:r.auth.user,header:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(x,{href:"/dashboard",className:"link link-primary",children:"Back"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Display Survey"})]}),children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 bg-white mt-6 py-6 rounded",children:e.jsxs("div",{className:"prose mx-auto",children:[e.jsxs("h3",{children:["#",t.id,": ",r.message]}),e.jsxs("p",{children:[e.jsx("b",{children:"Address:"})," ",t.address]}),e.jsx(l,{role:"link",variant:"outline",children:e.jsx("a",{href:`/survey-download/${n}`,children:"Download Survey"})}),e.jsxs("div",{className:"pt-12",children:[e.jsx("form",{onSubmit:i=>{i.preventDefault(),d("/comment",{preserveScroll:!0,onFinish:()=>{a("comment","")}})},children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(u,{onChange:i=>a("comment",i.target.value),value:m.comment}),o.comment&&e.jsx("p",{className:"text-red-500",children:o.comment}),e.jsx(l,{children:"Send"})]})}),e.jsx("div",{className:"pt-4",children:e.jsx(j,{comments:s})})]})]})})})};export{b as default};
